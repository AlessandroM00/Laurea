# -*- coding: utf-8 -*-
"""Percorso_Laurea.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/14gqBLJZdtR9ogV_VMHxx0SmpZ2Z_vlM_
"""

import time
import sys
import urllib.parse

def loading_bar(text, duration=3, steps=20):
    print(text)
    for i in range(steps + 1):
        percent = int((i / steps) * 100)
        bar = "#" * i + "-" * (steps - i)
        sys.stdout.write(f"\r[{bar}] {percent}%")
        sys.stdout.flush()
        time.sleep(duration / steps)
    print("\n")

esami_superati = 0
esami_rimanenti = 4
tesi = False
discussione = False
laureato = False

# Lista fittizia di materie
lista_materie = [
    {"nome": "Analisi Matematica", "cfu": 9},
    {"nome": "Sistemi Operativi", "cfu": 6},
    {"nome": "Intelligenza Artificiale", "cfu": 6},
    {"nome": "Machine Learning", "cfu": 6}
]

for materia in lista_materie:
    print(f"\nğŸ“š Materia: {materia['nome']} - CFU: {materia['cfu']}")
    loading_bar("ğŸ“– Studio in corso...", duration=2)
    loading_bar("ğŸ“ Esame in corso...", duration=2)
    print("âœ… Esame superato! Andiamo al prossimo!\n")
    esami_superati += 1
    esami_rimanenti -= 1
    time.sleep(1)

if esami_rimanenti == 0:
    print("ğŸ“ Tutti gli esami sono finiti!\n")
    time.sleep(1)
    loading_bar("ğŸ§  Si inizia a scrivere la tesi...", duration=2.5)
    loading_bar("ğŸ¤– Studio su AI e Machine Learning...", duration=2)
    loading_bar("ğŸ› ï¸ Tesi quasi completata!", duration=1.5)
    loading_bar("ğŸ“š Tesi completata!", duration=1)
    tesi = True

if tesi:
    loading_bar("ğŸ¤ Preparazione per la discussione...", duration=2)
    loading_bar("ğŸ™ï¸ Discussione in corso...", duration=2.5)
    print("ğŸ Discussione completata!\n")
    discussione = True

if discussione:
    laureato = True
    print("ğŸ‰ Percorso completato: finalmente sei LAUREATO!")
    print("ğŸ‘ Auguri al neo Dottore Alessandro! ğŸ¥³ğŸ¾ğŸ‚\n")
    time.sleep(1)


# Chiedi il messaggio all'utente
messaggio = input("ğŸ’¬ Vuoi lasciare un messaggio al Dottore?\n> ")

# Prepara il contenuto della mail
destinatario = "Alessandromultari00@gmail.com"
oggetto = "Messaggio per la laurea"
corpo = messaggio

# Codifica l'URL mailto
mailto_link = f"mailto:{destinatario}?subject={urllib.parse.quote(oggetto)}&body={urllib.parse.quote(corpo)}"

# Stampa il link cliccabile
from IPython.display import HTML, display
display(HTML(f"""
<h3>ğŸ“¨ Clicca per inviare il tuo messaggio via email!</h3>
<p><a href="{mailto_link}" target="_blank">Invia la tua email a {destinatario}</a></p>
"""))

# Messaggio finale degli invitati
print(f"\nğŸ“Messaggio inviato via mail!")